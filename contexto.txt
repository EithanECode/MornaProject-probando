1. Resumen Ejecutivo
El programa "Morna" es una plataforma integral de gestión de logística y compras internacionales, optimizada para clientes en Venezuela. La aplicación centraliza de forma eficiente las operaciones, la comunicación y el seguimiento, distribuyendo las responsabilidades entre el cliente, un equipo en China, un equipo en Venezuela y un rol de administración. El objetivo es ofrecer un servicio transparente, eficiente y escalable, respaldado por un sistema de reglas de negocio claras para maximizar la eficiencia y la rentabilidad.

2. Objetivo Principal del Sistema
El objetivo principal es proporcionar una plataforma digital que simplifique y automatice el flujo de trabajo completo de una compra internacional, desde la solicitud de cotización inicial por parte del cliente hasta la entrega final del producto en Venezuela. El sistema busca ser una herramienta colaborativa que mejore la comunicación y el seguimiento de cada operación.

3. Roles y Flujos de Trabajo Detallados
El sistema está estructurado en torno a cinco roles principales con responsabilidades y flujos de trabajo claramente definidos:

Cliente
Registro y Acceso: Se registra con datos personales, valida su identidad mediante un código de WhatsApp y se le asigna un ID de cliente único para el seguimiento. El acceso al sistema es posible con su nombre de usuario o ID de cliente.

Solicitud de Pedidos: Puede iniciar un pedido de dos maneras:

Proporcionando un enlace de un producto de cualquier tienda online.

Subiendo una foto del producto con una descripción detallada.

Debe indicar la cantidad, especificaciones técnicas y elegir las opciones de envío (aéreo, marítimo o ambos) y de entrega nacional (courier o retiro en oficina).

Gestión de Pedidos:

Recibe una cotización final dentro de un plazo máximo establecido por la administración.

Tiene un límite de 2 solicitudes de modificación por pedido. Una vez agotados los intentos, la compra se rechaza automáticamente.

Si acepta, se le asigna un número de orden de compra único.

Pagos: Puede pagar en Bs (a través de pago móvil o transferencia con validación automática) o en USD (Binance USTD, Zelle, Paypal con validación manual). El sistema determina un plazo máximo para el pago.

Seguimiento y Cierre: Tiene acceso a la opción de tracking de su pedido, recibe notificaciones de recepción y entrega, y al finalizar, puede completar una encuesta de satisfacción para métricas de calidad.

Soporte: Dispone de un chat de soporte online para consultas.

Empleado China
Gestión de Pedidos:

Recibe los pedidos al detal directamente del cliente.

Incorpora al sistema la siguiente información del producto: descripción, tamaño, peso, precio (del producto y de los envíos a almacenes específicos en China) y tiempo de despacho del proveedor.

Envía toda esta información al empleado en Venezuela para la cotización final.

Logística de Tracking:

Una vez que el pedido es confirmado, recibe el número de orden de compra.

Realiza el reempaque de los productos, asignando un número de paquete y un número de caja, y registra estos datos en el sistema para el tracking.

Pagos: Confirma la recepción del pago del producto en la cuenta china, que es realizado por el empleado validador en Venezuela.

Empleado Venezuela
Validación y Comunicación:

Revisa la información del pedido enviada por China para evitar errores de interpretación.

Envía la cotización final al cliente (por la App o WhatsApp), incluyendo una descripción detallada, el precio final (con las opciones de envío aéreo y/o marítimo) y una fecha estimada de entrega.

Soporte y Tracking:

Atiende el chat de soporte del cliente.

Registra las actualizaciones de tracking de los paquetes a lo largo de su viaje: salida de almacén en China, llegada a aduana en Venezuela, llegada a almacén local, despacho nacional y, finalmente, la entrega.

Notificaciones y Métricas:

Registra las notificaciones de arribo y entrega de los paquetes.

Revisa y procesa los datos de las encuestas de satisfacción del cliente para la mejora continua del servicio.

Empleados Pagos Validador Venezuela
Gestión Financiera:

Valida los pagos recibidos de los clientes.

Registra y procesa los pagos que se deben realizar a China.

Utiliza el tracking del pedido para asegurar la coherencia del proceso financiero.

Master (Administrador)
Configuración y Parámetros:

Define los parámetros de negocio clave, como: costos de envío (aéreo por peso volumétrico, marítimo por volumen), porcentajes de ganancia, valor del dólar, y descuentos por pago en USD.

Administra las credenciales y define los niveles de acceso para todos los usuarios y empleados.

Supervisión y Reportes:

Verifica el tracking de todos los pedidos en tiempo real.

Genera reportes para el análisis de rendimiento y la toma de decisiones estratégicas.

Recibe alertas cuando un pedido no ha sido atendido dentro de un plazo definido.

Tiene la capacidad de verificar los accesos de todos los empleados.

4. Reglas de Negocio Clave
Límites de Cotización: Un cliente sin historial de compra puede realizar un máximo de 5 cotizaciones en un mes.

Modificaciones de Pedido: Se permite un máximo de 2 solicitudes de modificación por pedido.

Plazos: Se establecen plazos máximos para la confirmación de la cotización y para el pago del pedido.

Tipos de Compra: Las compras al por mayor se gestionan directamente por el empleado en Venezuela, mientras que las compras al detal son manejadas por el empleado en China.

5. Puntos Pendientes (A Desarrollar)
Proceso de Devolución: El sistema debe integrar un flujo de trabajo claro para la gestión de devoluciones.

Mercancías Prohibidas: Se necesita una lista de productos prohibidos para evitar problemas de aduana.

Logística Nacional: Es crucial detallar el proceso logístico final desde el almacén en Venezuela hasta la entrega del producto al cliente (con mensajería o en oficina).

6. Especificaciones de Desarrollo (React + Next.js)
Para todos los diseños que se desarrollen, deben ser visualmente atractivos y funcionales, dignos de un entorno de producción. A continuación se detallan las directrices de codificación:

Framework: React con Next.js.

Diseño y Componentes: Se utilizará Tailwind CSS para todo el estilo.

Coherencia Visual: Todos los nuevos diseños y componentes deben mantener la misma estética visual del dashboard y la página de pedidos existentes. Esto incluye la paleta de colores, la tipografía, los espaciados y el estilo de los componentes (como los bordes redondeados y las sombras).

Componentes de UI: Se utilizará la librería shadcn/ui.

Iconos: Se usarán iconos de lucide-react.

Directiva "use client": Si un componente usa hooks del lado del cliente (useState, useEffect) y está siendo tratado como un Server Component por Next.js, se debe añadir siempre la directiva "use client" al principio del archivo.

Evitar errores: No se debe escribir código que provoque el error "Warning: Extra attributes from the server: %s%s""class,style".

Paquetes: No se deben instalar otros paquetes para temas de UI, iconos, etc., a menos que sea absolutamente necesario o que se solicite explícitamente.

Logos: Los logos se generarán utilizando iconos de lucide-react.
